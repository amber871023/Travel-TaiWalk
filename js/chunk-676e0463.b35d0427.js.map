{"version":3,"sources":["webpack:///./src/views/SpotDetail.vue","webpack:///./src/views/SpotDetail.vue?1ddd","webpack:///./src/components/SpotCard.vue","webpack:///./src/components/SpotCard.vue?3868"],"names":["class","aria-label","href","aria-current","id","data-bs-ride","type","data-bs-target","data-bs-slide-to","style","src","alt","to","spotDetail","City","Address","slice","ScenicSpotName","Picture","PictureUrl2","PictureUrl3","PictureUrl1","onerror","defaultImg","Class1","Class2","Class3","DescriptionDetail","OpenTime","Phone","target","WebsiteUrl","TicketInfo","Remarks","noNearbySpot","getNearbySpot","noNearbyEvent","getNearbyEvent","noNearbyFood","getNearbyFood","newSpotData","item","key","components","SpotCard","data","position","lat","lon","otherSpotDataList","methods","getSpot","ID","this","$route","params","url","$http","get","headers","then","res","undefined","Position","PositionLat","PositionLon","getMap","getOtherSpots","catch","err","console","log","myMap","map","setView","tileLayer","attribution","maxZoom","tileSize","zoomOffset","accessToken","addTo","marker","nearbySpot","length","Math","floor","random","ScenicSpotID","$router","push","ActivityID","RestaurantID","i","watch","name","mounted","__exports__","render","PictureDescription1","props","Object","default"],"mappings":"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","file":"js/chunk-676e0463.b35d0427.js","sourcesContent":["<template>\r\n  <!--標籤列-->\r\n<section class=\"container mb-7\">\r\n<nav aria-label=\"breadcrumb\">\r\n  <ol class=\"breadcrumb\">\r\n    <li class=\"breadcrumb-item\"><router-link to=\"/\" class=\"text-primary\">首頁</router-link ></li>\r\n    <li class=\"breadcrumb-item\"><router-link to=\"/spots\" class=\"text-primary\">探索景點</router-link></li>\r\n    <li class=\"breadcrumb-item\"><a href=\"#\" class=\"text-primary\">{{spotDetail.City? spotDetail.City : spotDetail.Address?.slice(0,3) }}</a></li>\r\n    <li class=\"breadcrumb-item active\" aria-current=\"page\">{{spotDetail.ScenicSpotName}}\r\n    </li>\r\n  </ol>\r\n</nav>\r\n</section>\r\n<!--圖片區-->\r\n<section class=\"container mb-6\">\r\n  <div id=\"carouselExampleIndicators\" class=\"carousel slide\" data-bs-ride=\"carousel\">\r\n    <div class=\"carousel-indicators\">\r\n      <button type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide-to=\"0\" class=\"active\" aria-current=\"true\" aria-label=\"Slide 1\"></button>\r\n      <button v-if=\"spotDetail.Picture?.PictureUrl2\" type=\"button\" data-bs-target=\"#carouselIndicators\" data-bs-slide-to=\"1\"  aria-label=\"Slide 2\"></button>\r\n      <button v-if=\"spotDetail.Picture?.PictureUrl3\" type=\"button\" data-bs-target=\"#carouselIndicators\" data-bs-slide-to=\"2\"  aria-label=\"Slide 3\"></button>\r\n    </div>\r\n    <div class=\"carousel-inner js-banner\">\r\n      <div class=\"carousel-item active text-center\">\r\n        <img class=\"d-block bannerImg\" :src=\"spotDetail.Picture?.PictureUrl1\" :onerror=\"defaultImg\">\r\n      </div>\r\n      <div v-if=\"spotDetail.Picture?.PictureUrl2\" class=\"carousel-item text-center\">\r\n        <img class=\"d-block bannerImg\" :src=\"spotDetail.Picture?.PictureUrl2\" :onerror=\"defaultImg\">\r\n      </div>\r\n      <div v-if=\"spotDetail.Picture?.PictureUrl3\" class=\"carousel-item text-center\">\r\n        <img class=\"d-block bannerImg\" :src=\"spotDetail.Picture?.PictureUrl3\" :onerror=\"defaultImg\">\r\n      </div>\r\n    </div>\r\n    <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide=\"prev\">\r\n      <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n      <span class=\"visually-hidden\">Previous</span>\r\n    </button>\r\n    <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide=\"next\">\r\n      <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n      <span class=\"visually-hidden\">Next</span>\r\n    </button>\r\n  </div>\r\n</section>\r\n<!--詳細介紹-->\r\n<section class=\"container\">\r\n<div class=\"row\">\r\n  <div class=\"col-12\"><h3 class=\"fs-7\">{{spotDetail.ScenicSpotName}}</h3></div>\r\n  <div class=\"col-12 mb-5\">\r\n    <div class=\"fs-3 d-inline-block border border-secondary rounded-pill text-secondary px-3 me-1\" v-if=\"spotDetail.Class1\"># {{spotDetail.Class1}}</div>\r\n    <div class=\"fs-3 d-inline-block border border-secondary rounded-pill text-secondary px-3 me-1\" v-if=\"spotDetail.Class2\"># {{spotDetail.Class2}}</div>\r\n    <div class=\"fs-3 d-inline-block border border-secondary rounded-pill text-secondary px-3\" v-if=\"spotDetail.Class3\"># {{spotDetail.Class3}}</div>\r\n  </div>\r\n  <div class=\"col-12 mb-2\">\r\n    <h5 class=\"fw-bold\">景點介紹：</h5>\r\n  </div>\r\n  <div class=\"col-12 mb-8\">\r\n    <p>{{spotDetail.DescriptionDetail}}</p>\r\n  </div>\r\n</div>\r\n</section>\r\n<!--相關資訊-->\r\n<section class=\"container mb-6\">\r\n<div class=\"row g-5\">\r\n  <div class=\"col-12 col-md-6 mt-0\">\r\n    <div class=\"bg-darkLight p-5 text-break\" style=\"border-radius: 12px;\">\r\n      <div class=\"d-flex justify-content-start\">\r\n        <h5 class=\"fw-bold\">開放時間：</h5>\r\n      <span class=\"text-break textIndent\">{{spotDetail.OpenTime?spotDetail.OpenTime:'無'}}</span>\r\n      </div>\r\n      <div class=\"d-flex justify-content-start\">\r\n        <h5 class=\"fw-bold\">服務電話：</h5>\r\n      <span>{{spotDetail.Phone?spotDetail.Phone:'無'}}</span>\r\n      </div>\r\n      <div class=\"d-flex justify-content-start\">\r\n        <h5 class=\"fw-bold\">景點地址：</h5>\r\n      <a :href=\"'https://www.google.com.tw/maps/place/' + spotDetail.Address\" class=\"text-break textOver textIndent text-primary\" style=\"text-decoration: underline;\" target=\"_blank\">{{spotDetail.Address}}</a>\r\n      </div>\r\n      <div class=\"d-flex justify-content-start\"  v-if=\"spotDetail.WebsiteUrl\">\r\n        <h5 class=\"fw-bold\">官方網站：</h5>\r\n      <a :href=\"spotDetail.WebsiteUrl\"  class=\"text-break textIndent text-primary\" style=\"text-decoration: underline;\" target=\"_blank\">{{spotDetail.WebsiteUrl}}</a>\r\n      </div>\r\n      <div class=\"d-flex justify-content-start\">\r\n        <h5 class=\"fw-bold\">票價資訊：</h5>\r\n      <span class=\"text-break textIndent\">{{spotDetail.TicketInfo?spotDetail.TicketInfo:'無'}}</span>\r\n      </div>\r\n      <div class=\"d-flex justify-content-start\">\r\n        <h5 class=\"fw-bold\">注意事項：</h5>\r\n      <span class=\"text-break textIndent\">{{spotDetail.Remarks?spotDetail.Remarks:'無'}}</span>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"col-12 col-md-6 mt-0\">\r\n    <div class=\"col-12 mb-5\">\r\n      <div id=\"map\" style=\"height: 250px; border-radius:12px;\"></div>\r\n    </div>\r\n    <div class=\"col-12\">\r\n      <h5 class=\"fw-bold\">周邊資訊：</h5>\r\n      <div class=\"col-12 d-flex\">\r\n        <div class=\"col-4\">\r\n          <button class=\"btn d-flex flex-column align-items-center px-7 py-5\" :class=\"{ disabled : noNearbySpot }\" style=\"border: 1.33px solid #E5E5E5;\" @click=\"getNearbySpot()\">\r\n            <img src=\"../assets/img/nearby-spot.png\" alt=\"\">\r\n            <span class=\"text-primary\">附近景點</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"col-4\">\r\n          <button class=\"btn d-flex flex-column align-items-center px-7 py-5\" :class=\"{ disabled : noNearbyEvent }\" style=\"border: 1.33px solid #E5E5E5;\" @click=\"getNearbyEvent()\">\r\n            <img src=\"../assets/img/nearby-event.png\" alt=\"\">\r\n            <span class=\"text-primary\">附近活動</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"col-4\">\r\n          <button class=\"btn d-flex flex-column align-items-center px-7 py-5\" :class=\"{ disabled : noNearbyFood }\" style=\"border: 1.33px solid #E5E5E5;\" @click=\"getNearbyFood()\">\r\n            <img src=\"../assets/img/nearby-food.png\" alt=\"\">\r\n            <span class=\"text-primary\">附近美食</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</section>\r\n\r\n<!--其他景點-->\r\n<section class=\"container\">\r\n  <div class=\"row\">\r\n      <div class=\"col-6 fs-7\">這些也不能錯過</div>\r\n      <div class=\"col-6 d-flex justify-content-end align-items-center\"><router-link to=\"/spots\" class=\" text-info\">查看更多景點></router-link></div>\r\n      <SpotCard v-for=\"item in newSpotData\" :key=\"item.id\" :item=\"item\" />\r\n  </div>\r\n</section>\r\n</template>\r\n<script>\r\n// @ is an alias to /src\r\nimport getAuthorizationHeader from '@/utils/authorizationHeader.js'\r\nimport SpotCard from '@/components/SpotCard'\r\nimport L from 'leaflet'\r\n\r\nexport default {\r\n  components: {\r\n    SpotCard\r\n  },\r\n  data () {\r\n    return {\r\n      defaultImg: 'this.src=\"' + require('../assets/img/onerror-1100x400.png') + '\"',\r\n      id: '',\r\n      spotDetail: {},\r\n      position: {\r\n        lat: '',\r\n        lon: ''\r\n      },\r\n      otherSpotDataList: [],\r\n      newSpotData: [],\r\n      noNearbySpot: false,\r\n      noNearbyEvent: false,\r\n      noNearbyFood: false\r\n    }\r\n  },\r\n  methods: {\r\n    getSpot (id) {\r\n      const ID = this.$route.params.ID\r\n      const url = `${process.env.VUE_APP_API}/Tourism/ScenicSpot?%24filter=contains(ScenicSpotID%2C'${ID}')&%24format=JSON`\r\n      this.$http\r\n        .get(url, {\r\n          // eslint-disable-next-line indent\r\n          headers: getAuthorizationHeader()\r\n        })\r\n        .then((res) => {\r\n          this.spotDetail = res.data[0]\r\n          if (this.spotDetail.Picture.PictureUrl1 === undefined) {\r\n            this.spotDetail.Picture.PictureUrl1 = require('../assets/img/onerror-1100x400.png')\r\n          }\r\n          this.position.lat = this.spotDetail.Position.PositionLat\r\n          this.position.lon = this.spotDetail.Position.PositionLon\r\n          this.getMap()\r\n          this.getOtherSpots()\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getMap () {\r\n      const myMap = L.map('map')\r\n      myMap.setView([this.position.lat, this.position.lon], 15)\r\n      L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\r\n        attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n        maxZoom: 30,\r\n        id: 'mapbox/streets-v11',\r\n        tileSize: 512,\r\n        zoomOffset: -1,\r\n        accessToken: 'pk.eyJ1IjoiYW1iZXJjeXQiLCJhIjoiY2t3NHExeG1nZW1xczJvcGdhZHl4ankzayJ9.zzynZZe72haux4VYvqCDeA' // 'your.mapbox.access.token'\r\n      }).addTo(myMap)\r\n      L.marker([this.position.lat, this.position.lon]).addTo(myMap)\r\n    },\r\n    getNearbySpot () {\r\n      const ID = this.$route.params.ID\r\n      const url = `${process.env.VUE_APP_API}/Tourism/ScenicSpot?%24filter=ScenicSpotID%20ne%20'${ID}'&%24Picture%2FPictureUrl1%20ne%20null&%24spatialFilter=nearby(${this.position.lat},${this.position.lon},1000)&%24format=JSON`\r\n      this.$http\r\n        .get(url, {\r\n          // eslint-disable-next-line indent\r\n          headers: getAuthorizationHeader()\r\n        })\r\n        .then((res) => {\r\n          const nearbySpot = res.data\r\n          this.noNearbySpot = false\r\n          if (res.data.length === 0) {\r\n            this.noNearbySpot = true\r\n            return\r\n          }\r\n          if (nearbySpot !== []) {\r\n            const ID = nearbySpot[Math.floor(Math.random() * nearbySpot.length)].ScenicSpotID\r\n            this.$router.push(`/spots/${ID}`)\r\n            this.getSpot(ID)\r\n          }\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getNearbyEvent () {\r\n      const url = `${process.env.VUE_APP_API}/Tourism/Activity?&%24spatialFilter=nearby(${this.position.lat},${this.position.lon},1000)&%24format=JSON`\r\n      this.$http\r\n        .get(url, {\r\n          // eslint-disable-next-line indent\r\n          headers: getAuthorizationHeader()\r\n        })\r\n        .then((res) => {\r\n          this.noNearbyEvent = false\r\n          if (res.data.length === 0) {\r\n            this.noNearbyEvent = true\r\n            return\r\n          }\r\n          if (res.data !== []) {\r\n            const ID = res.data[Math.floor(Math.random() * res.data.length)].ActivityID\r\n            this.$router.push(`/events/${ID}`)\r\n          }\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getNearbyFood () {\r\n      const url = `${process.env.VUE_APP_API}/Tourism/Restaurant?%24top=5&%24spatialFilter=nearby(${this.position.lat},${this.position.lon},1000)&%24format=JSON`\r\n      this.$http\r\n        .get(url, {\r\n          // eslint-disable-next-line indent\r\n          headers: getAuthorizationHeader()\r\n        })\r\n        .then((res) => {\r\n          this.noNearbyFood = false\r\n          if (res.data.length === 0) {\r\n            this.noNearbyFood = true\r\n            return\r\n          }\r\n          if (res.data !== []) {\r\n            const ID = res.data[Math.floor(Math.random() * res.data.length)].RestaurantID\r\n            this.$router.push(`/taste-food/${ID}`)\r\n          }\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getOtherSpots () {\r\n      this.newSpotData = []\r\n      const url = `${process.env.VUE_APP_API}/Tourism/ScenicSpot?$filter=Picture%2FPictureUrl1%20ne%20null&$top=100&$format=JSON`\r\n      this.$http\r\n        .get(url, {\r\n          // eslint-disable-next-line indent\r\n          headers: getAuthorizationHeader()\r\n        })\r\n        .then((res) => {\r\n          this.otherSpotDataList = res.data\r\n          // console.log(this.spotDataList)\r\n          for (let i = 0; i <= 3; i++) {\r\n            this.newSpotData.push(this.otherSpotDataList[Math.floor(Math.random() * this.otherSpotDataList.length)])\r\n          }\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err)\r\n        })\r\n    }\r\n  },\r\n  watch: {\r\n    $route () {\r\n      // 透過watch $route 來重新渲染解決遇到相同路徑\r\n      if (this.$route.name === 'spot') {\r\n        this.id = this.$route.params.ID\r\n        this.getSpot(this.id)\r\n        this.getOtherSpots()\r\n        this.noNearbySpot = false\r\n        this.noNearbyEvent = false\r\n        this.noNearbyFood = false\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.id = this.$route.params.ID\r\n    this.getSpot(this.id)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./SpotDetail.vue?vue&type=template&id=c7e54d84\"\nimport script from \"./SpotDetail.vue?vue&type=script&lang=js\"\nexport * from \"./SpotDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\User\\\\Desktop\\\\Vue_六角\\\\Travel-TaiWalk\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"col-6 col-lg-3 mb-4\">\r\n      <router-link  :to=\"`/spots/${item.ScenicSpotID}`\">\r\n        <div class=\"overflow-hidden mb-2\" style=\"border-radius:20px;\">\r\n          <img :src=\"item.Picture.PictureUrl1\" class=\"card-img-top\" :alt=\"item.Picture.PictureDescription1\" :onerror=\"defaultImg\">\r\n        </div>\r\n        <div class=\"card-info\">\r\n            <h3  class=\"card-title fw-bold fs-4 textOver\">{{item.ScenicSpotName}}</h3>\r\n              <div class=\"d-flex justify-content-between\">\r\n                <p class=\"text-dark d-flex justify-content-center mb-0\">\r\n                <span class=\"material-icons text-light\">\r\n                place\r\n                </span> {{item.City? item.City : item.Address?.slice(0,3)}} </p>\r\n              </div>\r\n        </div>\r\n      </router-link>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      defaultImg: 'this.src=\"' + require('../assets/img/onerror-255x200.png') + '\"'\r\n    }\r\n  },\r\n  props: {\r\n    item: {\r\n      type: Object,\r\n      default: () => { return {} }\r\n    }\r\n  },\r\n  methods: {\r\n  },\r\n  mounted () {\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./SpotCard.vue?vue&type=template&id=99da15b0\"\nimport script from \"./SpotCard.vue?vue&type=script&lang=js\"\nexport * from \"./SpotCard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\User\\\\Desktop\\\\Vue_六角\\\\Travel-TaiWalk\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}