(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f707c36"],{2095:function(t,e,a){"use strict";function c(t){var e=new Date(t),a=e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate();return a}a.d(e,"a",(function(){return c}))},"7cd6":function(t,e,a){"use strict";a.r(e);a("fb6a");var c=a("7a23"),n=a("a3cf"),s=a.n(n),i=a("e652"),r=a.n(i),o=a("c171"),l=a.n(o),b={class:"container mb-7"},d={"aria-label":"breadcrumb"},u={class:"breadcrumb"},v={class:"breadcrumb-item"},O=Object(c["i"])("首頁"),j={class:"breadcrumb-item"},g=Object(c["i"])("節慶活動"),p={class:"breadcrumb-item"},f={href:"#",class:"text-primary"},h={class:"breadcrumb-item active","aria-current":"page"},m={class:"container mb-6"},y={id:"carouselIndicators",class:"carousel slide","data-bs-ride":"carousel"},x={class:"carousel-indicators"},D=Object(c["g"])("button",{type:"button","data-bs-target":"#carouselIndicators","data-bs-slide-to":"0",class:"active","aria-current":"true","aria-label":"Slide 1"},null,-1),w={key:0,type:"button","data-bs-target":"#carouselIndicators","data-bs-slide-to":"1","aria-label":"Slide 2"},k={key:1,type:"button","data-bs-target":"#carouselIndicators","data-bs-slide-to":"2","aria-label":"Slide 3"},C={class:"carousel-inner js-banner"},E={class:"carousel-item active text-center"},P=["src","onerror"],I={key:0,class:"carousel-item text-center"},N=["src","onerror"],S={key:1,class:"carousel-item text-center"},T=["src","onerror"],M=Object(c["h"])('<button class="carousel-control-prev" type="button" data-bs-target="#carouselIndicators" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselIndicators" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),A={class:"container"},$={class:"row"},U={class:"col-12"},F={class:"fs-7"},J={class:"col-12 mb-5"},z={key:0,class:"fs-3 d-inline-block border border-secondary rounded-pill text-secondary px-3 me-1"},L={key:1,class:"fs-3 d-inline-block border border-secondary rounded-pill text-secondary px-3 me-1"},_=Object(c["g"])("div",{class:"col-12 mb-2"},[Object(c["g"])("h5",{class:"fw-bold"},"活動介紹：")],-1),H={class:"col-12 mb-8"},Z={class:"container mb-6"},W={class:"row g-5"},Y={class:"col-12 col-md-6 mt-0"},R={class:"bg-darkLight p-5 text-break",style:{"border-radius":"12px"}},q={class:"d-flex justify-content-start"},G=Object(c["g"])("h5",{class:"fw-bold"},"活動時間：",-1),V={class:"text-break textIndent"},X={class:"d-flex justify-content-start"},Q=Object(c["g"])("h5",{class:"fw-bold"},"聯絡電話：",-1),B={class:"d-flex justify-content-start"},K=Object(c["g"])("h5",{class:"fw-bold"},"主辦單位：",-1),tt={class:"d-flex justify-content-start"},et=Object(c["g"])("h5",{class:"fw-bold"},"活動地點：",-1),at=["href"],ct={key:0,class:"d-flex justify-content-start"},nt=Object(c["g"])("h5",{class:"fw-bold"},"官方網站：",-1),st=["href"],it={class:"d-flex justify-content-start"},rt=Object(c["g"])("h5",{class:"fw-bold"},"活動費用：",-1),ot={class:"text-break textIndent"},lt={class:"d-flex justify-content-start"},bt=Object(c["g"])("h5",{class:"fw-bold"},"注意事項：",-1),dt={class:"text-break textIndent"},ut={class:"col-12 col-md-6 mt-0"},vt=Object(c["g"])("div",{class:"col-12 mb-5"},[Object(c["g"])("div",{id:"map",style:{height:"250px","border-radius":"12px"}})],-1),Ot={class:"col-12"},jt=Object(c["g"])("h5",{class:"fw-bold"},"周邊資訊：",-1),gt={class:"col-12 d-flex"},pt={class:"col-4"},ft=Object(c["g"])("img",{src:s.a,alt:""},null,-1),ht=Object(c["g"])("span",{class:"text-primary"},"附近景點",-1),mt=[ft,ht],yt={class:"col-4"},xt=Object(c["g"])("img",{src:r.a,alt:""},null,-1),Dt=Object(c["g"])("span",{class:"text-primary"},"附近活動",-1),wt=[xt,Dt],kt={class:"col-4"},Ct=Object(c["g"])("img",{src:l.a,alt:""},null,-1),Et=Object(c["g"])("span",{class:"text-primary"},"附近美食",-1),Pt=[Ct,Et],It={class:"container"},Nt={class:"row"},St=Object(c["g"])("div",{class:"col-6 fs-7"},"這些也不能錯過",-1),Tt={class:"col-6 d-flex justify-content-end align-items-center"},Mt=Object(c["i"])("查看更多景點>");function At(t,e,a,n,s,i){var r,o,l,ft,ht,xt,Dt,Ct,Et=Object(c["A"])("router-link"),At=Object(c["A"])("EventCard");return Object(c["t"])(),Object(c["f"])(c["a"],null,[Object(c["g"])("section",b,[Object(c["g"])("nav",d,[Object(c["g"])("ol",u,[Object(c["g"])("li",v,[Object(c["j"])(Et,{to:"/",class:"text-primary"},{default:Object(c["H"])((function(){return[O]})),_:1})]),Object(c["g"])("li",j,[Object(c["j"])(Et,{to:"/events",class:"text-primary"},{default:Object(c["H"])((function(){return[g]})),_:1})]),Object(c["g"])("li",p,[Object(c["g"])("a",f,Object(c["C"])(s.eventDetail.City?s.eventDetail.City:null===(r=s.eventDetail.Address)||void 0===r?void 0:r.slice(0,3)),1)]),Object(c["g"])("li",h,Object(c["C"])(s.eventDetail.ActivityName),1)])])]),Object(c["g"])("section",m,[Object(c["g"])("div",y,[Object(c["g"])("div",x,[D,null!==(o=s.eventDetail.Picture)&&void 0!==o&&o.PictureUrl2?(Object(c["t"])(),Object(c["f"])("button",w)):Object(c["e"])("",!0),null!==(l=s.eventDetail.Picture)&&void 0!==l&&l.PictureUrl3?(Object(c["t"])(),Object(c["f"])("button",k)):Object(c["e"])("",!0)]),Object(c["g"])("div",C,[Object(c["g"])("div",E,[Object(c["g"])("img",{class:"d-block bannerImg",src:null===(ft=s.eventDetail.Picture)||void 0===ft?void 0:ft.PictureUrl1,onerror:s.defaultImg},null,8,P)]),null!==(ht=s.eventDetail.Picture)&&void 0!==ht&&ht.PictureUrl2?(Object(c["t"])(),Object(c["f"])("div",I,[Object(c["g"])("img",{class:"d-block bannerImg",src:null===(xt=s.eventDetail.Picture)||void 0===xt?void 0:xt.PictureUrl2,onerror:s.defaultImg},null,8,N)])):Object(c["e"])("",!0),null!==(Dt=s.eventDetail.Picture)&&void 0!==Dt&&Dt.PictureUrl3?(Object(c["t"])(),Object(c["f"])("div",S,[Object(c["g"])("img",{class:"d-block bannerImg",src:null===(Ct=s.eventDetail.Picture)||void 0===Ct?void 0:Ct.PictureUrl3,onerror:s.defaultImg},null,8,T)])):Object(c["e"])("",!0)]),M])]),Object(c["g"])("section",A,[Object(c["g"])("div",$,[Object(c["g"])("div",U,[Object(c["g"])("h3",F,Object(c["C"])(s.eventDetail.ActivityName),1)]),Object(c["g"])("div",J,[s.eventDetail.Class1?(Object(c["t"])(),Object(c["f"])("div",z,"# "+Object(c["C"])(s.eventDetail.Class1),1)):Object(c["e"])("",!0),s.eventDetail.Class2?(Object(c["t"])(),Object(c["f"])("div",L,"# "+Object(c["C"])(s.eventDetail.Class2),1)):Object(c["e"])("",!0)]),_,Object(c["g"])("div",H,[Object(c["g"])("p",null,Object(c["C"])(s.eventDetail.Description),1)])])]),Object(c["g"])("section",Z,[Object(c["g"])("div",W,[Object(c["g"])("div",Y,[Object(c["g"])("div",R,[Object(c["g"])("div",q,[G,Object(c["g"])("span",V,Object(c["C"])(s.eventDetail.StartTime+" - "+s.eventDetail.EndTime),1)]),Object(c["g"])("div",X,[Q,Object(c["g"])("span",null,Object(c["C"])(s.eventDetail.Phone?s.eventDetail.Phone:"無"),1)]),Object(c["g"])("div",B,[K,Object(c["g"])("span",null,Object(c["C"])(s.eventDetail.Organizer?s.eventDetail.Organizer:"無"),1)]),Object(c["g"])("div",tt,[et,Object(c["g"])("a",{href:"https://www.google.com.tw/maps/place/"+s.eventDetail.Address,class:"text-break textOver text-primary",style:{"text-decoration":"underline"},target:"_blank"},Object(c["C"])(s.eventDetail.Address),9,at)]),s.eventDetail.WebsiteUrl?(Object(c["t"])(),Object(c["f"])("div",ct,[nt,Object(c["g"])("a",{href:s.eventDetail.WebsiteUrl,class:"text-break textIndent text-primary",style:{"text-decoration":"underline"},target:"_blank"},Object(c["C"])(s.eventDetail.WebsiteUrl),9,st)])):Object(c["e"])("",!0),Object(c["g"])("div",it,[rt,Object(c["g"])("span",ot,Object(c["C"])(s.eventDetail.Charge?s.eventDetail.Charge:"無"),1)]),Object(c["g"])("div",lt,[bt,Object(c["g"])("span",dt,Object(c["C"])(s.eventDetail.Remarks?s.eventDetail.eventDetail:"無"),1)])])]),Object(c["g"])("div",ut,[vt,Object(c["g"])("div",Ot,[jt,Object(c["g"])("div",gt,[Object(c["g"])("div",pt,[Object(c["g"])("button",{class:Object(c["p"])(["btn d-flex flex-column align-items-center px-7 py-5",{disabled:s.noNearbySpot}]),style:{border:"1.33px solid #E5E5E5"},onClick:e[0]||(e[0]=function(t){return i.getNearbySpot()})},mt,2)]),Object(c["g"])("div",yt,[Object(c["g"])("button",{class:Object(c["p"])(["btn d-flex flex-column align-items-center px-7 py-5",{disabled:s.noNearbyEvent}]),style:{border:"1.33px solid #E5E5E5"},onClick:e[1]||(e[1]=function(t){return i.getNearbyEvent()})},wt,2)]),Object(c["g"])("div",kt,[Object(c["g"])("button",{class:Object(c["p"])(["btn d-flex flex-column align-items-center px-7 py-5",{disabled:s.noNearbyFood}]),style:{border:"1.33px solid #E5E5E5"},onClick:e[2]||(e[2]=function(t){return i.getNearbyFood()})},Pt,2)])])])])])]),Object(c["g"])("section",It,[Object(c["g"])("div",Nt,[St,Object(c["g"])("div",Tt,[Object(c["j"])(Et,{to:"/events",class:"text-info"},{default:Object(c["H"])((function(){return[Mt]})),_:1})]),(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["z"])(s.newEventData,(function(t){return Object(c["t"])(),Object(c["d"])(At,{key:t.id,item:t},null,8,["item"])})),128))])])],64)}a("99af"),a("d81d"),a("b0c0");var $t=a("c119"),Ut=a("2095"),Ft={class:"col-6 col-lg-3"},Jt={class:"overflow-hidden mb-2",style:{"border-radius":"20px"}},zt=["src","alt","onerror"],Lt={class:"card-info"},_t={class:"card-title fw-bold fs-4 textOver"},Ht={class:"d-flex justify-content-between"},Zt={class:"text-dark d-flex justify-content-center mb-0"},Wt=Object(c["g"])("span",{class:"material-icons text-light"}," place ",-1);function Yt(t,e,a,n,s,i){var r=Object(c["A"])("router-link");return Object(c["t"])(),Object(c["f"])("div",Ft,[Object(c["j"])(r,{to:"/events/".concat(a.item.ActivityID)},{default:Object(c["H"])((function(){var t;return[Object(c["g"])("div",Jt,[Object(c["g"])("img",{src:a.item.Picture.PictureUrl1,class:"card-img-top",alt:a.item.Picture.PictureDescription1,onerror:s.defaultImg},null,8,zt)]),Object(c["g"])("div",Lt,[Object(c["g"])("h3",_t,Object(c["C"])(a.item.ActivityName),1),Object(c["g"])("div",Ht,[Object(c["g"])("p",Zt,[Wt,Object(c["i"])(" "+Object(c["C"])(a.item.City?a.item.City:null===(t=a.item.Address)||void 0===t?void 0:t.slice(0,3)),1)])])])]})),_:1},8,["to"])])}var Rt={data:function(){return{defaultImg:'this.src="'+a("2de0")+'"'}},props:{item:{type:Object,default:function(){return{}}}},methods:{},mounted:function(){}},qt=a("6b0d"),Gt=a.n(qt);const Vt=Gt()(Rt,[["render",Yt]]);var Xt=Vt,Qt=a("e11e"),Bt=a.n(Qt),Kt={components:{EventCard:Xt},data:function(){return{id:"",eventDetail:{},defaultImg:'this.src="'+a("2785")+'"',otherEventDataList:[],newEventData:[],position:{lat:"",lon:""},noNearbySpot:!1,noNearbyEvent:!1,noNearbyFood:!1}},methods:{getEvent:function(t){var e=this,c=this.$route.params.ID,n="".concat("https://ptx.transportdata.tw/MOTC/v2","/Tourism/Activity?%24filter=ActivityID%20eq%20'").concat(c,"'&%24format=JSON");this.$http.get(n,{headers:Object($t["a"])()}).then((function(t){e.eventDetail=t.data[0],void 0===e.eventDetail.Picture.PictureUrl1&&(e.eventDetail.Picture.PictureUrl1=a("2785")),e.position.lat=e.eventDetail.Position.PositionLat,e.position.lon=e.eventDetail.Position.PositionLon,e.eventDetail.StartTime=Object(Ut["a"])(e.eventDetail.StartTime),e.eventDetail.EndTime=Object(Ut["a"])(e.eventDetail.EndTime),e.getMap(),e.getOtherEvents()})).catch((function(t){console.log(t)}))},getMap:function(){var t=Bt.a.map("map");t.setView([this.position.lat,this.position.lon],15),Bt.a.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:30,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiYW1iZXJjeXQiLCJhIjoiY2t3NHExeG1nZW1xczJvcGdhZHl4ankzayJ9.zzynZZe72haux4VYvqCDeA"}).addTo(t),Bt.a.marker([this.position.lat,this.position.lon]).addTo(t)},getNearbySpot:function(){var t=this,e="".concat("https://ptx.transportdata.tw/MOTC/v2","/Tourism/ScenicSpot?%24spatialFilter=nearby(").concat(this.position.lat,",").concat(this.position.lon,",1000)&%24format=JSON");this.$http.get(e,{headers:Object($t["a"])()}).then((function(e){if(t.noNearbySpot=!1,0!==e.data.length){if(e.data!==[]){var a=e.data[Math.floor(Math.random()*e.data.length)].ScenicSpotID;t.$router.push("/spots/".concat(a))}}else t.noNearbySpot=!0})).catch((function(t){console.log(t)}))},getNearbyEvent:function(){var t=this,e=this.$route.params.ID,a="".concat("https://ptx.transportdata.tw/MOTC/v2","/Tourism/Activity?%24filter=ActivityID%20ne%20'").concat(e,"'&%24Picture%2FPictureUrl1%20ne%20null&%24spatialFilter=nearby(").concat(this.position.lat,",").concat(this.position.lon,",1000)&%24format=JSON");this.$http.get(a,{headers:Object($t["a"])()}).then((function(e){if(t.noNearbyEvent=!1,0!==e.data.length){if(e.data!==[]){var a=e.data[Math.floor(Math.random()*e.data.length)].ActivityID;t.$router.push("/events/".concat(a)),t.getEvent(a)}}else t.noNearbyEvent=!0})).catch((function(t){console.log(t)}))},getNearbyFood:function(){var t=this,e="".concat("https://ptx.transportdata.tw/MOTC/v2","/Tourism/Restaurant?%24top=5&%24spatialFilter=nearby(").concat(this.position.lat,",").concat(this.position.lon,",1000)&%24format=JSON");this.$http.get(e,{headers:Object($t["a"])()}).then((function(e){if(t.noNearbyFood=!1,0!==e.data.length){if(e.data!==[]){var a=e.data[Math.floor(Math.random()*e.data.length)].RestaurantID;t.$router.push("/taste-food/".concat(a))}}else t.noNearbyFood=!0})).catch((function(t){console.log(t)}))},getOtherEvents:function(){var t=this;this.newEventData=[];var e="".concat("https://ptx.transportdata.tw/MOTC/v2","/Tourism/Activity?$filter=Picture%2FPictureUrl1%20ne%20null&$top=100&$format=JSON");this.$http.get(e,{headers:Object($t["a"])()}).then((function(e){t.otherEventDataList=e.data;for(var a=0;a<=3;a++)t.newEventData.push(t.otherEventDataList[Math.floor(Math.random()*t.otherEventDataList.length)])})).catch((function(t){console.log(t)}))}},watch:{$route:function(){"event"===this.$route.name&&(this.id=this.$route.params.ID,this.getEvent(this.id),this.getOtherEvents())}},mounted:function(){this.id=this.$route.params.ID,this.getEvent(this.id)}};const te=Gt()(Kt,[["render",At]]);e["default"]=te}}]);
//# sourceMappingURL=chunk-9f707c36.5a63dfc9.js.map