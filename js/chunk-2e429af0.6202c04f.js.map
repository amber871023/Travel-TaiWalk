{"version":3,"sources":["webpack:///./src/components/FoodCard.vue","webpack:///./src/components/FoodCard.vue?fe58","webpack:///./src/views/FoodDetail.vue","webpack:///./src/views/FoodDetail.vue?31a6"],"names":["class","style","to","item","RestaurantID","src","Picture","PictureUrl1","alt","PictureDescription1","onerror","defaultImg","RestaurantName","City","Address","slice","data","props","type","Object","default","methods","mounted","__exports__","render","aria-label","href","aria-current","id","data-bs-ride","data-bs-target","data-bs-slide-to","foodDetail","Class","Description","OpenTime","Phone","target","WebsiteUrl","noNearbySpot","getNearbySpot","noNearbyEvent","getNearbyEvent","noNearbyFood","getNearbyFood","newFoodData","key","components","FoodCard","otherFoodDataList","position","lat","lon","getFood","ID","this","$route","params","url","$http","get","headers","then","res","undefined","Position","PositionLat","PositionLon","getMap","getOtherFood","catch","err","console","log","myMap","map","setView","tileLayer","attribution","maxZoom","tileSize","zoomOffset","accessToken","addTo","marker","nearbySpot","length","Math","floor","random","ScenicSpotID","$router","push","ActivityID","i","watch","name"],"mappings":"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","file":"js/chunk-2e429af0.6202c04f.js","sourcesContent":["<template>\r\n  <div class=\"col-6 col-lg-3\">\r\n      <router-link :to=\"`/taste-food/${item.RestaurantID}`\">\r\n        <div class=\"overflow-hidden mb-2\" style=\"border-radius:20px;\">\r\n          <img :src=\"item.Picture.PictureUrl1\" class=\"card-img-top\" :alt=\"item.Picture.PictureDescription1\" :onerror=\"defaultImg\">\r\n        </div>\r\n        <div class=\"card-info\">\r\n            <h3  class=\"card-title fw-bold fs-4 textOver\">{{item.RestaurantName}}</h3>\r\n              <div class=\"d-flex justify-content-between\">\r\n                <p class=\"text-dark d-flex justify-content-center mb-0\">\r\n                <span class=\"material-icons text-light\">\r\n                place\r\n                </span> {{item.City? item.City : item.Address?.slice(0,3)}} </p>\r\n              </div>\r\n        </div>\r\n      </router-link>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      defaultImg: 'this.src=\"' + require('../assets/img/onerror-255x200.png') + '\"'\r\n    }\r\n  },\r\n  props: {\r\n    item: {\r\n      type: Object,\r\n      default: () => { return {} }\r\n    }\r\n  },\r\n  methods: {\r\n  },\r\n  mounted () {\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./FoodCard.vue?vue&type=template&id=665ac256\"\nimport script from \"./FoodCard.vue?vue&type=script&lang=js\"\nexport * from \"./FoodCard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\User\\\\Desktop\\\\Vue_六角\\\\Travel-TaiWalk\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <!--標籤列-->\r\n<section class=\"container mb-7\">\r\n<nav aria-label=\"breadcrumb\">\r\n  <ol class=\"breadcrumb\">\r\n    <li class=\"breadcrumb-item\"><router-link to=\"/\" class=\"text-primary\">首頁</router-link ></li>\r\n    <li class=\"breadcrumb-item\"><router-link to=\"/taste-food\" class=\"text-primary\">品嘗美食</router-link></li>\r\n    <li class=\"breadcrumb-item\"><a href=\"#\" class=\"text-primary\">{{foodDetail.City? foodDetail.City : foodDetail.Address?.slice(0,3)}}</a></li>\r\n    <li class=\"breadcrumb-item active\" aria-current=\"page\">{{foodDetail.RestaurantName}}\r\n    </li>\r\n  </ol>\r\n</nav>\r\n</section>\r\n<!--圖片區-->\r\n<section class=\"container mb-6\">\r\n  <div id=\"carouselExampleIndicators\" class=\"carousel slide\" data-bs-ride=\"carousel\">\r\n    <div class=\"carousel-indicators\">\r\n      <button type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide-to=\"0\" class=\"active\" aria-current=\"true\" aria-label=\"Slide 1\"></button>\r\n    </div>\r\n    <div class=\"carousel-inner js-banner\">\r\n      <div class=\"carousel-item active text-center\">\r\n        <img class=\"d-block bannerImg\" :src=\"foodDetail.Picture?.PictureUrl1\" :onerror=\"defaultImg\">\r\n      </div>\r\n    </div>\r\n    <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide=\"prev\">\r\n      <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n      <span class=\"visually-hidden\">Previous</span>\r\n    </button>\r\n    <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide=\"next\">\r\n      <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n      <span class=\"visually-hidden\">Next</span>\r\n    </button>\r\n  </div>\r\n</section>\r\n<!--詳細介紹-->\r\n<section class=\"container\">\r\n<div class=\"row\">\r\n  <div class=\"col-12\"><h3 class=\"fs-7\">{{foodDetail.RestaurantName}}</h3></div>\r\n  <div class=\"col-12 mb-5\">\r\n    <div class=\"fs-3 d-inline-block border border-secondary rounded-pill text-secondary px-3 me-1\" v-if=\"foodDetail.Class\"># {{foodDetail.Class}}</div>\r\n  </div>\r\n  <div class=\"col-12 mb-2\">\r\n    <h5 class=\"fw-bold\">餐廳介紹：</h5>\r\n  </div>\r\n  <div class=\"col-12 mb-8\">\r\n    <p>{{foodDetail.Description}}</p>\r\n  </div>\r\n</div>\r\n</section>\r\n<!--相關資訊-->\r\n<section class=\"container mb-6\">\r\n<div class=\"row g-5\">\r\n  <div class=\"col-12 col-md-6 mt-0\">\r\n    <div class=\"bg-darkLight p-5 text-break\" style=\"border-radius: 12px;\">\r\n      <div class=\"d-flex justify-content-start\">\r\n        <h5 class=\"fw-bold\">營業時間：</h5>\r\n      <span class=\"text-break textIndent\">{{foodDetail.OpenTime?foodDetail.OpenTime:'無'}}</span>\r\n      </div>\r\n      <div class=\"d-flex justify-content-start\">\r\n        <h5 class=\"fw-bold\">聯絡電話：</h5>\r\n      <span>{{foodDetail.Phone?foodDetail.Phone:'無'}}</span>\r\n      </div>\r\n      <div class=\"d-flex justify-content-start\">\r\n        <h5 class=\"fw-bold\">餐廳地址：</h5>\r\n      <a :href=\"'https://www.google.com.tw/maps/place/' + foodDetail.Address\" class=\"text-break textOver text-primary\" style=\"text-decoration: underline;\" target=\"_blank\">{{foodDetail.Address}}</a>\r\n      </div>\r\n      <div class=\"d-flex justify-content-start\"  v-if=\"foodDetail.WebsiteUrl\">\r\n        <h5 class=\"fw-bold\">官方網站：</h5>\r\n      <a :href=\"foodDetail.WebsiteUrl\"  class=\"text-break textIndent text-primary\" style=\"text-decoration: underline;\" target=\"_blank\">{{foodDetail.WebsiteUrl}}</a>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"col-12 col-md-6 mt-0\">\r\n    <div class=\"col-12 mb-5\">\r\n      <div id=\"map\" style=\"height: 250px; border-radius:12px;\"></div>\r\n    </div>\r\n    <div class=\"col-12\">\r\n      <h5 class=\"fw-bold\">周邊資訊：</h5>\r\n      <div class=\"col-12 d-flex\">\r\n        <div class=\"col-4\">\r\n          <button class=\"btn d-flex flex-column align-items-center px-7 py-5\" :class=\"{ disabled : noNearbySpot }\" style=\"border: 1.33px solid #E5E5E5;\" @click=\"getNearbySpot()\">\r\n            <img src=\"../assets/img/nearby-spot.png\" alt=\"\">\r\n            <span class=\"text-primary\">附近景點</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"col-4\">\r\n          <button class=\"btn d-flex flex-column align-items-center px-7 py-5\" :class=\"{ disabled : noNearbyEvent }\" style=\"border: 1.33px solid #E5E5E5;\" @click=\"getNearbyEvent()\">\r\n            <img src=\"../assets/img/nearby-event.png\" alt=\"\">\r\n            <span class=\"text-primary\">附近活動</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"col-4\">\r\n          <button class=\"btn d-flex flex-column align-items-center px-7 py-5\" :class=\"{ disabled : noNearbyFood }\" style=\"border: 1.33px solid #E5E5E5;\" @click=\"getNearbyFood()\">\r\n            <img src=\"../assets/img/nearby-food.png\" alt=\"\">\r\n            <span class=\"text-primary\">附近美食</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</section>\r\n\r\n<!--其他景點-->\r\n<section class=\"container\">\r\n  <div class=\"row\">\r\n      <div class=\"col-6 fs-7\">這些也不能錯過</div>\r\n      <div class=\"col-6 d-flex justify-content-end align-items-center\"><router-link to=\"/taste-food\" class=\" text-info\">查看更多餐廳></router-link></div>\r\n      <FoodCard v-for=\"item in newFoodData\" :key=\"item.id\" :item=\"item\"/>\r\n  </div>\r\n</section>\r\n</template>\r\n<script>\r\n// @ is an alias to /src\r\nimport getAuthorizationHeader from '@/utils/authorizationHeader.js'\r\nimport FoodCard from '@/components/FoodCard'\r\nimport L from 'leaflet'\r\n\r\nexport default {\r\n  components: {\r\n    FoodCard\r\n  },\r\n  data () {\r\n    return {\r\n      id: '',\r\n      foodDetail: {},\r\n      defaultImg: 'this.src=\"' + require('../assets/img/onerror-1100x400.png') + '\"',\r\n      otherFoodDataList: [],\r\n      newFoodData: [],\r\n      position: {\r\n        lat: '',\r\n        lon: ''\r\n      },\r\n      noNearbySpot: false,\r\n      noNearbyEvent: false,\r\n      noNearbyFood: false\r\n    }\r\n  },\r\n  methods: {\r\n    getFood (id) {\r\n      const ID = this.$route.params.ID\r\n      const url = `${process.env.VUE_APP_API}/Tourism/Restaurant?%24filter=RestaurantID%20eq%20'${ID}'&%24format=JSON`\r\n      this.$http\r\n        .get(url, {\r\n          // eslint-disable-next-line indent\r\n          headers: getAuthorizationHeader()\r\n        })\r\n        .then((res) => {\r\n          this.foodDetail = res.data[0]\r\n          if (this.foodDetail.Picture.PictureUrl1 === undefined) {\r\n            this.foodDetail.Picture.PictureUrl1 = require('../assets/img/onerror-1100x400.png')\r\n          }\r\n          this.position.lat = this.foodDetail.Position.PositionLat\r\n          this.position.lon = this.foodDetail.Position.PositionLon\r\n          this.getMap()\r\n          this.getOtherFood()\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getMap () {\r\n      const myMap = L.map('map')\r\n      myMap.setView([this.position.lat, this.position.lon], 15)\r\n      L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\r\n        attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n        maxZoom: 30,\r\n        id: 'mapbox/streets-v11',\r\n        tileSize: 512,\r\n        zoomOffset: -1,\r\n        accessToken: 'pk.eyJ1IjoiYW1iZXJjeXQiLCJhIjoiY2t3NHExeG1nZW1xczJvcGdhZHl4ankzayJ9.zzynZZe72haux4VYvqCDeA' // 'your.mapbox.access.token'\r\n      }).addTo(myMap)\r\n      L.marker([this.position.lat, this.position.lon]).addTo(myMap)\r\n    },\r\n    getNearbySpot () {\r\n      const url = `${process.env.VUE_APP_API}/Tourism/ScenicSpot?%24spatialFilter=nearby(${this.position.lat},${this.position.lon},1000)&%24format=JSON`\r\n      this.$http\r\n        .get(url, {\r\n          // eslint-disable-next-line indent\r\n          headers: getAuthorizationHeader()\r\n        })\r\n        .then((res) => {\r\n          const nearbySpot = res.data\r\n          this.noNearbySpot = false\r\n          if (res.data.length === 0) {\r\n            this.noNearbySpot = true\r\n            return\r\n          }\r\n          if (nearbySpot !== []) {\r\n            const ID = nearbySpot[Math.floor(Math.random() * nearbySpot.length)].ScenicSpotID\r\n            this.$router.push(`/spots/${ID}`)\r\n          }\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getNearbyEvent () {\r\n      const url = `${process.env.VUE_APP_API}/Tourism/Activity?&%24spatialFilter=nearby(${this.position.lat},${this.position.lon},1000)&%24format=JSON`\r\n      this.$http\r\n        .get(url, {\r\n          // eslint-disable-next-line indent\r\n          headers: getAuthorizationHeader()\r\n        })\r\n        .then((res) => {\r\n          this.noNearbyEvent = false\r\n          if (res.data.length === 0) {\r\n            this.noNearbyEvent = true\r\n            return\r\n          }\r\n          if (res.data !== []) {\r\n            const ID = res.data[Math.floor(Math.random() * res.data.length)].ActivityID\r\n            this.$router.push(`/events/${ID}`)\r\n          }\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getNearbyFood () {\r\n      const ID = this.$route.params.ID\r\n      const url = `${process.env.VUE_APP_API}/Tourism/Restaurant?%24filter=RestaurantID%20ne%20'${ID}'&%24spatialFilter=nearby(${this.position.lat},${this.position.lon},1000)&%24format=JSON`\r\n      this.$http\r\n        .get(url, {\r\n          // eslint-disable-next-line indent\r\n          headers: getAuthorizationHeader()\r\n        })\r\n        .then((res) => {\r\n          this.noNearbyFood = false\r\n          if (res.data.length === 0) {\r\n            this.noNearbyFood = true\r\n            return\r\n          }\r\n          if (res.data !== []) {\r\n            const ID = res.data[Math.floor(Math.random() * res.data.length)].RestaurantID\r\n            this.$router.push(`/taste-food/${ID}`)\r\n            this.getFood(ID)\r\n          }\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getOtherFood () {\r\n      this.newFoodData = []\r\n      const url = `${process.env.VUE_APP_API}/Tourism/Restaurant?$filter=Picture%2FPictureUrl1%20ne%20null&$top=100&$format=JSON`\r\n      this.$http\r\n        .get(url, {\r\n          // eslint-disable-next-line indent\r\n          headers: getAuthorizationHeader()\r\n        })\r\n        .then((res) => {\r\n          this.otherFoodDataList = res.data\r\n          for (let i = 0; i <= 3; i++) {\r\n            this.newFoodData.push(this.otherFoodDataList[Math.floor(Math.random() * this.otherFoodDataList.length)])\r\n          }\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err)\r\n        })\r\n    }\r\n  },\r\n  watch: {\r\n    $route () {\r\n      // 透過watch $route 來重新渲染解決遇到相同路徑\r\n      if (this.$route.name === 'food') {\r\n        this.id = this.$route.params.ID\r\n        this.getFood(this.id)\r\n        this.getOtherFood()\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.id = this.$route.params.ID\r\n    this.getFood(this.id)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./FoodDetail.vue?vue&type=template&id=6e949c32\"\nimport script from \"./FoodDetail.vue?vue&type=script&lang=js\"\nexport * from \"./FoodDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\User\\\\Desktop\\\\Vue_六角\\\\Travel-TaiWalk\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}