{"version":3,"sources":["webpack:///./src/assets/img/spots/agriculture.png","webpack:///./src/assets/img/spots/natural.png","webpack:///./src/views/Spots.vue","webpack:///./src/views/Spots.vue?8135","webpack:///./src/assets/img/spots/spa.png","webpack:///./src/assets/img/spots/ecological.png","webpack:///./src/assets/img/spots/historic.png","webpack:///./src/assets/img/spots/recreation.png","webpack:///./src/assets/img/spots/play.png"],"names":["module","exports","class","aria-label","aria-current","value","selected","style","to","param","city","CityList","item","index","key","City","CityName","type","types","name","placeholder","keyword","search","isSearched","list","resultList","totalList","pages","routeName","renderList","searchType","src","img","alt","components","SearchResult","data","pageSize","pageTotal","currentPage","methods","getCity","url","this","$http","get","headers","then","res","catch","err","console","log","querySearch","queryKeyword","$route","query","className","filterData","forEach","undefined","Picture","PictureUrl1","dataTotal","length","Math","ceil","minData","maxData","page","num","push","window","scrollTo","watch","mounted","__exports__","render"],"mappings":"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","file":"js/chunk-7ea69c8c.a21dcf36.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/agriculture.c4eb9534.png\";","module.exports = __webpack_public_path__ + \"img/natural.66cbba0d.png\";","<template>\r\n  <!--標籤列-->\r\n  <section class=\"container mb-7\">\r\n    <nav aria-label=\"breadcrumb\">\r\n      <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\"><router-link to=\"/\">首頁</router-link></li>\r\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">探索景點</li>\r\n      </ol>\r\n    </nav>\r\n  </section>\r\n  <!--篩選列-->\r\n<section class=\"container mb-8\">\r\n  <div class=\"row flex-row justify-content-center g-1\">\r\n    <div class=\"col-12 col-md-3\">\r\n      <select class=\"form-select me-3\" v-model=\"param.city\">\r\n        <option value=\"\" selected>全部縣市</option>\r\n        <option v-for=\" (item,index) in CityList\" :key=\"index\" :value=\"item.City\">{{item.CityName}}\r\n        </option>\r\n      </select>\r\n    </div>\r\n    <div class=\"col-12 col-md-3\">\r\n      <select class=\"form-select me-3\" v-model=\"param.type\">\r\n        <option value=\"\" selected>全部主題</option>\r\n        <option v-for=\" (type,index) in types\" :key=\"index\" :value=\"type.name\">{{type.name}}</option>\r\n      </select>\r\n    </div>\r\n    <div class=\"col-12 col-md-4\">\r\n      <input class=\"form-control me-3\" type=\"text\" placeholder=\"你想去哪裡？請輸入關鍵字\" v-model=\"param.keyword\">\r\n    </div>\r\n    <div class=\"col-12 col-md-2\">\r\n      <button type=\"button\" class=\"btn btn-primary w-100 text-white d-flex justify-content-center\" @click=\"search\">\r\n        <span class=\"material-icons text-white pe-3\">\r\n        search\r\n        </span>\r\n         搜    尋</button>\r\n    </div>\r\n  </div>\r\n</section>\r\n<!--熱門主題-->\r\n<section v-if=\"!isSearched\" class=\"container\">\r\n  <div class=\"row\">\r\n      <div class=\"col-12 fs-7\">熱門主題</div>\r\n      <div class=\"col-6 col-md-4 col-lg-3 position-relative mb-2\" v-for=\" (type,index) in types\" :key=\"index\" @click=\"searchType(type)\">\r\n        <div class=\"imgWrap\" style=\"cursor:pointer\">\r\n          <div class=\"imgCard overflow-hidden\" style=\"border-radius:30px;\">\r\n          <img :src=\"type.img\" class=\"card-img-top\" :alt=\"type.name\" style=\"height: 100%; width: 100%;\">\r\n          <h3 class=\"position-absolute top-50 start-50 translate-middle text-white fw-bold fs-4\">{{type.name}}</h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </div>\r\n</section>\r\n<!--搜尋結果-->\r\n<SearchResult v-else :list=\"resultList\" :totalList=\"totalList\" :pages=\"pages\" routeName=\"spot\" @filter-list=\"renderList\"/>\r\n</template>\r\n<script>\r\nimport getAuthorizationHeader from '@/utils/authorizationHeader.js'\r\nimport SearchResult from '@/components/SearchResult'\r\nexport default {\r\n  components: {\r\n    SearchResult\r\n  },\r\n  data () {\r\n    return {\r\n      CityList: [],\r\n      param: {\r\n        city: '',\r\n        type: '',\r\n        keyword: null\r\n      },\r\n      types: [\r\n        {\r\n          name: '自然風景類',\r\n          img: require('@/assets/img/spots/natural.png')\r\n        },\r\n        {\r\n          name: '觀光工廠類',\r\n          img: require('@/assets/img/spots/recreation.png')\r\n        },\r\n        {\r\n          name: '遊憩類',\r\n          img: require('@/assets/img/spots/play.png')\r\n        },\r\n        {\r\n          name: '休閒農業類',\r\n          img: require('@/assets/img/spots/agriculture.png')\r\n        },\r\n        {\r\n          name: '生態類',\r\n          img: require('@/assets/img/spots/ecological.png')\r\n        },\r\n        {\r\n          name: '溫泉類',\r\n          img: require('@/assets/img/spots/spa.png')\r\n        },\r\n        {\r\n          name: '古蹟類',\r\n          img: require('@/assets/img/spots/historic.png')\r\n        }\r\n      ],\r\n      isSearched: false,\r\n      resultList: [],\r\n      totalList: [],\r\n      pages: {\r\n        pageSize: 20,\r\n        pageTotal: 0,\r\n        currentPage: 1\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getCity () {\r\n      const url = 'https://gist.motc.gov.tw/gist_api/V3/Map/Basic/City?$format=JSON'\r\n      this.$http\r\n        .get(url, {\r\n          // eslint-disable-next-line indent\r\n          headers: getAuthorizationHeader()\r\n        })\r\n        .then((res) => {\r\n          this.CityList = res.data\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err)\r\n        })\r\n    },\r\n    querySearch () {\r\n      const queryKeyword = this.$route.query.keyword\r\n      if (queryKeyword) {\r\n        this.param.keyword = queryKeyword\r\n        this.search()\r\n      }\r\n    },\r\n    searchType (className) {\r\n      this.param.type = className.name\r\n      this.search()\r\n    },\r\n    search () {\r\n      let filterData = ''\r\n      if (this.param.keyword && this.param.type) {\r\n        filterData = `%24filter=contains(ScenicSpotName, '${this.param.keyword}')and (contains(Class1, '${this.param.type}')or contains(Class2, '${this.param.type}')or contains(Class3, '${this.param.type}'))`\r\n      } else {\r\n        if (this.param.keyword) {\r\n          filterData = `%24filter=contains(ScenicSpotName, '${this.param.keyword}')`\r\n        }\r\n        if (this.param.type) {\r\n          filterData = `%24filter=contains(Class1, '${this.param.type}')or contains(Class2, '${this.param.type}')or contains(Class3, '${this.param.type}')`\r\n        }\r\n      }\r\n      const url = `${process.env.VUE_APP_API}/Tourism/ScenicSpot/${this.param.city}?${filterData}&%24format=JSON`\r\n      this.$http\r\n        .get(url, {\r\n          // eslint-disable-next-line indent\r\n          headers: getAuthorizationHeader()\r\n        })\r\n        .then((res) => {\r\n          res.data.forEach(item => {\r\n            if (item.Picture.PictureUrl1 === undefined) {\r\n              item.Picture.PictureUrl1 = require('../assets/img/onerror-255x200.png')\r\n            }\r\n          })\r\n          this.totalList = res.data\r\n          const dataTotal = this.totalList.length\r\n          this.pages.pageTotal = Math.ceil(dataTotal / this.pages.pageSize)\r\n          this.renderList()\r\n          this.isSearched = true\r\n          this.param.keyword = null\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err)\r\n        })\r\n    },\r\n    renderList (minData = 1, maxData = 20, page = 1) {\r\n      this.resultList = []\r\n      this.pages.currentPage = page\r\n      this.totalList.forEach((item, index) => {\r\n        const num = index + 1\r\n        if (num >= minData && num <= maxData) {\r\n          this.resultList.push(item)\r\n        }\r\n      })\r\n      if (this.pages.currentPage > this.pages.pageTotal) {\r\n        this.pages.currentPage = this.pageTotal\r\n      }\r\n      window.scrollTo(0, 0)\r\n    }\r\n  },\r\n  watch: {\r\n    $route () {\r\n      // 相同path 不同 param 時需要 透過watch $route 來重新Render\r\n      if (this.$route.name === 'spots') {\r\n        this.search()\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCity()\r\n    this.querySearch()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Spots.vue?vue&type=template&id=46d2beb4\"\nimport script from \"./Spots.vue?vue&type=script&lang=js\"\nexport * from \"./Spots.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\User\\\\Desktop\\\\Vue_六角\\\\Travel-TaiWalk\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/spa.0978b7b6.png\";","module.exports = __webpack_public_path__ + \"img/ecological.c80ac5b5.png\";","module.exports = __webpack_public_path__ + \"img/historic.5cf08d22.png\";","module.exports = __webpack_public_path__ + \"img/recreation.b11dceef.png\";","module.exports = __webpack_public_path__ + \"img/play.c2430091.png\";"],"sourceRoot":""}